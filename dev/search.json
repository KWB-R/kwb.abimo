[{"path":"/dev/articles/running-abimo.html","id":"basic-model-run","dir":"Articles","previous_headings":"","what":"Basic model run","title":"Running Abimo","text":"","code":"result <- kwb.abimo::run_abimo(input_data = kwb.abimo::abimo_input_2019) #> Installing Abimo to D:/a/_temp/Library/kwb.abimo/extdata/abimo_v3.3.0_win64 ... The directory \"D:/a/_temp/Library/kwb.abimo/extdata/abimo_v3.3.0_win64\" was created. #> ok. (1.23s)  head(result) #>               CODE       R     ROW      RI    RVOL  ROWVOL   RIVOL FLAECHE #> 1 1000536281000000 290.063   0.000 290.063 585.425   0.000 585.425   63648 #> 2 0700221581000100 410.831 249.475 161.356 457.318 277.705 179.614   35104 #> 3 0700221391000100 422.356 261.911 160.445 502.827 311.813 191.014   37544 #> 4 0700221401000000 389.757 220.770 168.986 631.977 357.971 274.006   51134 #> 5 0700221581000200 361.886 211.796 150.089 212.424 124.323  88.102   18511 #> 6 0700221561000000 471.360 360.978 110.381 420.133 321.747  98.385   28109 #>   VERDUNSTUN #> 1    356.307 #> 2    174.499 #> 3    164.064 #> 4    196.663 #> 5    224.535 #> 6    118.330"},{"path":"/dev/articles/running-abimo.html","id":"load-and-modify-input-data","dir":"Articles","previous_headings":"","what":"Load and modify input data","title":"Running Abimo","text":"","code":"input_data <- kwb.abimo::abimo_input_2019  # Have a look at the column types. IMPORTANT: Modifications must not change the # types! str(input_data) #> 'data.frame':    25352 obs. of  34 variables: #>  $ CODE      : Factor w/ 25352 levels \"0100980011000100\",..: 8934 3028 3006 3010 3029 3026 2961 2962 3007 9572 ... #>  $ BEZIRK    : int  10 7 7 7 7 7 7 7 7 12 ... #>  $ STAGEB    : int  53 22 22 22 22 22 22 22 22 62 ... #>  $ BLOCK     : int  628 158 139 140 158 156 92 93 139 627 ... #>  $ TEILBLOCK : int  0 1 1 0 2 0 2 1 3 2 ... #>  $ NUTZUNG   : int  10 21 10 21 50 50 10 10 130 50 ... #>  $ TYP       : int  23 7 7 7 13 45 11 11 53 47 ... #>  $ FLGES     : num  53741 25316 24656 40647 15605 ... #>  $ VG        : num  25.8 64.9 66.7 59.5 57.7 95.9 54.8 53.5 20.1 43.3 ... #>  $ PROBAU    : num  18.3 42.1 46 34.1 33.4 81.9 35.9 29.6 0.7 17.7 ... #>  $ PROVGU    : num  7.4 22.8 20.7 25.4 24.4 14 18.9 23.8 19.4 25.6 ... #>  $ REGENJA   : int  593 537 538 538 538 541 536 534 538 573 ... #>  $ REGENSO   : int  333 298 298 298 298 299 297 296 298 320 ... #>  $ BELAG1    : int  18 41 41 41 38 41 49 49 30 7 ... #>  $ BELAG2    : int  74 27 27 27 44 42 46 46 20 42 ... #>  $ BELAG3    : int  2 4 4 4 2 15 3 3 5 5 ... #>  $ BELAG4    : int  6 28 28 28 16 2 2 2 45 46 ... #>  $ VGSTRASSE : num  95.1 97.4 97.4 97.4 97.4 97.4 97.4 97.4 97.4 95.1 ... #>  $ STR_BELAG1: num  39.4 47.6 47.6 47.6 47.6 47.6 47.6 47.6 47.6 39.4 ... #>  $ STR_BELAG2: num  24.8 23 23 23 23 23 23 23 23 24.8 ... #>  $ STR_BELAG3: num  17.7 21.7 21.7 21.7 21.7 21.7 21.7 21.7 21.7 17.7 ... #>  $ STR_BELAG4: num  18.1 7.7 7.7 7.7 7.7 7.7 7.7 7.7 7.7 18.1 ... #>  $ KANAL     : int  0 1 1 1 1 1 1 1 0 1 ... #>  $ KANART    : int  5 1 1 1 1 1 1 1 0 2 ... #>  $ KAN_BEB   : int  0 94 94 94 90 89 86 86 0 89 ... #>  $ KAN_VGU   : int  0 65 65 65 68 70 50 50 0 48 ... #>  $ KAN_STR   : int  0 93 93 93 88 88 89 89 0 89 ... #>  $ FELD_30   : int  13 10 10 10 10 10 10 10 10 17 ... #>  $ FELD_150  : int  12 12 12 12 12 12 12 12 12 10 ... #>  $ FLUR      : num  8.5 4.1 14.8 5.8 4.6 14.4 4.2 3.2 16.6 11.8 ... #>  $ STR_FLGES : num  9907 9788 12889 10487 2906 ... #>  $ KOR_FL_N  : num  1 1 0.84 0.87 1 0.82 1 1 0.82 0.56 ... #>  $ AGEB1_NR  : Factor w/ 31 levels \"110\",\"120\",\"130\",..: NA NA NA NA NA NA NA NA NA 22 ... #>  $ AGEB1     : chr  NA NA NA NA ... #>  - attr(*, \"data_types\")= chr [1:34] \"C\" \"N\" \"N\" \"N\" ...  # Assigning a value of e.g. 600 to an integer column converts the column # type to double (floating point)!  typeof(input_data$REGENJA) # integer #> [1] \"integer\"  input_data$REGENJA <- 600  # run_abimo() will complain now... #kwb.abimo::run_abimo(input_data = input_data) # Error: Column 'REGENJA' does not have the expected type (integer)!  # Really? typeof(input_data$REGENJA) # now double #> [1] \"double\"  # Problem: By assigning 600, the type was implicitly converted to double. # Use \"L\" to indicate integer values (or use as.integer()) input_data$REGENJA <- 600L  # Or e.g. input_data$REGENJA <- as.integer(1.05 * kwb.abimo::abimo_input_2019$REGENJA)  typeof(input_data$REGENJA) # now integer (again) #> [1] \"integer\""},{"path":"/dev/articles/running-abimo.html","id":"run-abimo-with-the-modified-data","dir":"Articles","previous_headings":"","what":"Run Abimo with the modified data","title":"Running Abimo","text":"","code":"result <- kwb.abimo::run_abimo(input_data = input_data)  head(result) #>               CODE       R     ROW      RI    RVOL  ROWVOL   RIVOL FLAECHE #> 1 1000536281000000 315.270   0.000 315.270 636.299   0.000 636.299   63648 #> 2 0700221581000100 434.707 262.340 172.367 483.896 292.025 191.871   35104 #> 3 0700221391000100 446.691 275.414 171.277 531.799 327.889 203.910   37544 #> 4 0700221401000000 412.824 232.126 180.698 669.380 376.385 292.996   51134 #> 5 0700221581000200 384.020 222.665 161.355 225.417 130.703  94.714   18511 #> 6 0700221561000000 496.795 380.011 116.783 442.803 338.712 104.091   28109 #>   VERDUNSTUN #> 1    362.710 #> 2    178.963 #> 3    168.069 #> 4    201.936 #> 5    230.740 #> 6    122.325"},{"path":"/dev/articles/running-abimo.html","id":"load-and-modify-a-configuration-config-xml-updated-for-v0-2-0","dir":"Articles","previous_headings":"","what":"Load and modify a configuration (config.xml), updated for v0.2.0!","title":"Running Abimo","text":"","code":"# Create a configuration object (from default config.xml stored in this package) config <- kwb.abimo:::read_config()  # Show the content of one section of the configuration config$section_Infiltrationsfaktoren$get_xml() #> {xml_node} #> <section name=\"Infiltrationsfaktoren\"> #> [1] <item key=\"Dachflaechen\" value=\"0.00\"/> #> [2] <item key=\"Belaglsklasse1\" value=\"0.10\"/> #> [3] <item key=\"Belaglsklasse2\" value=\"0.30\"/> #> [4] <item key=\"Belaglsklasse3\" value=\"0.60\"/> #> [5] <item key=\"Belaglsklasse4\" value=\"0.90\"/>  # Get/set Infiltrationsfaktoren and check the change config$section_Infiltrationsfaktoren$item_Dachflaechen #> {xml_node} #> <item key=\"Dachflaechen\" value=\"0.00\"> config$section_Infiltrationsfaktoren$item_Dachflaechen$set(value = 0.6) config$section_Infiltrationsfaktoren$item_Dachflaechen #> {xml_node} #> <item key=\"Dachflaechen\" value=\"0.6\">  # Similar: other items \"Belaglsklasse1\", \"Belaglsklasse2\", # \"Belaglsklasse3\", \"Belaglsklasse4\", e.g. config$section_Infiltrationsfaktoren$item_Belaglsklasse2 #> {xml_node} #> <item key=\"Belaglsklasse2\" value=\"0.30\"> config$section_Infiltrationsfaktoren$item_Belaglsklasse2$set(value = 0.99) config$section_Infiltrationsfaktoren$item_Belaglsklasse2 #> {xml_node} #> <item key=\"Belaglsklasse2\" value=\"0.99\">  # Similar: Get/set item values in sections \"Bagrovwerte\" or  # \"ErgebnisNachkommaStellen\", \"Diverse\"  # More complicated: sections \"Gewaesserverdunstung\" and \"PotentielleVerdunstung\".  # Here we may want to keep only one entry for all \"bezirke\"  # Show section \"PotentielleVerdunstung\" config$section_PotentielleVerdunstung$get_xml() #> {xml_node} #> <section name=\"PotentielleVerdunstung\"> #> [1] <item bezirke=\"15,16,18,19,20\" etp=\"620\" etps=\"500\"/> #> [2] <item bezirke=\"8,9,10,12,21,22,23\" etp=\"630\" etps=\"505\"/> #> [3] <item bezirke=\"13,14,17\" etp=\"640\" etps=\"515\"/> #> [4] <item bezirke=\"2,3,4\" etp=\"650\" etps=\"520\"/> #> [5] <item bezirke=\"1,5,6,7,11\" etp=\"660\" etps=\"530\"/> #> [6] <item etp=\"660\" etps=\"530\"/>  # Change values of an existing item config$section_PotentielleVerdunstung$item_1$set(   bezirke = \"123-125\", etp = 123, etps = 234 )  # Check the change config$section_PotentielleVerdunstung$get_xml() #> {xml_node} #> <section name=\"PotentielleVerdunstung\"> #> [1] <item bezirke=\"123-125\" etp=\"123\" etps=\"234\"/> #> [2] <item bezirke=\"8,9,10,12,21,22,23\" etp=\"630\" etps=\"505\"/> #> [3] <item bezirke=\"13,14,17\" etp=\"640\" etps=\"515\"/> #> [4] <item bezirke=\"2,3,4\" etp=\"650\" etps=\"520\"/> #> [5] <item bezirke=\"1,5,6,7,11\" etp=\"660\" etps=\"530\"/> #> [6] <item etp=\"660\" etps=\"530\"/>  # This was just for demonstration. Now lets remove items 1 to 5 config$section_PotentielleVerdunstung$remove(\"item_1\") config$section_PotentielleVerdunstung$remove(\"item_2\") config$section_PotentielleVerdunstung$remove(\"item_3\") config$section_PotentielleVerdunstung$remove(\"item_4\") config$section_PotentielleVerdunstung$remove(\"item_5\")  # Show the remaining item in section \"Gewaesserverdunstung\".  # Only the last item remains config$section_PotentielleVerdunstung$get_xml() #> {xml_node} #> <section name=\"PotentielleVerdunstung\"> #> [1] <item etp=\"660\" etps=\"530\"/>  # Even though removed from the XML tree the config structure still contains # the removed items. E.g. item 5 still exists: config$section_PotentielleVerdunstung$item_5 #> {xml_node} #> <item bezirke=\"1,5,6,7,11\" etp=\"660\" etps=\"530\">  # To remove the items also from the config structure, we need to update it config <- config$update()  # Item 5 does not exist any more (is NULL): config$section_PotentielleVerdunstung$item_5 #> NULL  # Note that the list elements have been renamed. As there is only # one remaining item, it is just called \"item\" (without a number)  # Change the value in the remaining item (representing all \"bezirke\") config$section_PotentielleVerdunstung$item$set(etp = 666, etps = 555) config$section_PotentielleVerdunstung$item #> {xml_node} #> <item etp=\"666\" etps=\"555\">"},{"path":"/dev/articles/running-abimo.html","id":"run-abimo-with-the-modified-configuration","dir":"Articles","previous_headings":"","what":"Run Abimo with the modified configuration","title":"Running Abimo","text":"Internally, new config_<date-time-string>.xml file created temporary folder:","code":"result <- kwb.abimo::run_abimo(   input_data = kwb.abimo::abimo_input_2019,   config = config ) #> Writing C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\RtmpS0pDbt/config_20220622-204825.xml ... ok. (0.00s)  head(result) #>               CODE       R     ROW      RI    RVOL  ROWVOL   RIVOL FLAECHE #> 1 1000536281000000 293.946   0.000 293.946 593.261   0.000 593.261   63648 #> 2 0700221581000100 327.276 135.355 191.921 364.308 150.671 213.637   35104 #> 3 0700221391000100 338.859 145.362 193.497 403.421 173.058 230.364   37544 #> 4 0700221401000000 315.900 118.520 197.380 512.222 192.177 320.045   51134 #> 5 0700221581000200 288.330 105.502 182.829 169.248  61.929 107.319   18511 #> 6 0700221561000000 315.560 177.102 138.458 281.265 157.855 123.411   28109 #>   VERDUNSTUN #> 1    352.425 #> 2    258.054 #> 3    247.561 #> 4    270.520 #> 5    298.090 #> 6    274.130 dir(tempdir()) #>  [1] \"abimo_input.dbf\"              \"abimo_input_result.dbf\"       #>  [3] \"abimo_input_result.log\"       \"abimo_v3.3.0_win64.zip\"       #>  [5] \"config_20220622-204825.xml\"   \"file9c81206f3f\"               #>  [7] \"file9c8203264a\"               \"file9c84c884af1\"              #>  [9] \"file9c8564371e3\"              \"file9c866ac35bd\"              #> [11] \"file9c8725629c9\"              \"rmarkdown-str9c8742242f.html\""},{"path":"/dev/articles/running-abimo.html","id":"manually-save-configuration-object-to-xml","dir":"Articles","previous_headings":"","what":"Manually save configuration object to XML","title":"Running Abimo","text":"may create config files config objects using save(): something goes wrong, may compare created xml file original file, e.g. using TortoiseSVN->Diff…","code":"new_xml_file <- config$save(name = \"config_tmp.xml\") #> Writing D:/a/_temp/Library/kwb.abimo/extdata/config_tmp.xml ... ok. (0.00s) # Open the folder containing the xml file kwb.utils::hsOpenWindowsExplorer(dirname(new_xml_file))"},{"path":"/dev/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Andreas Matzinger. Author, maintainer. Michael Rustler. Contributor. . Funder. . Copyright holder.","code":""},{"path":"/dev/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Matzinger (2022). kwb.abimo: R Package Functions Working Water Balance Model ABIMO. R package version 0.1.0.9000, https://github.com/KWB-R/kwb.abimo.","code":"@Manual{,   title = {kwb.abimo: R Package with Functions for Working with Water Balance Model ABIMO},   author = {Andreas Matzinger},   year = {2022},   note = {R package version 0.1.0.9000},   url = {https://github.com/KWB-R/kwb.abimo}, }"},{"path":"/dev/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"R Package with Functions for Working with Water Balance\n    Model ABIMO","text":"details install KWB-R packages checkout installation tutorial.","code":"### Optionally: specify GitHub Personal Access Token (GITHUB_PAT) ### See here why this might be important for you: ### https://kwb-r.github.io/kwb.pkgbuild/articles/install.html#set-your-github_pat  # Sys.setenv(GITHUB_PAT = \"mysecret_access_token\")  # Install package \"remotes\" from CRAN if (! require(\"remotes\")) {   install.packages(\"remotes\", repos = \"https://cloud.r-project.org\") }  # Install KWB package 'kwb.abimo' from GitHub remotes::install_github(\"KWB-R/kwb.abimo\")"},{"path":"/dev/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 Kompetenzzentrum Wasser Berlin gGmbH (KWB) Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/dev/reference/ABIMO_adapt_map.html","id":null,"dir":"Reference","previous_headings":"","what":"adapt ABIMO output dbf-file to Berlin shape file — ABIMO_adapt_map","title":"adapt ABIMO output dbf-file to Berlin shape file — ABIMO_adapt_map","text":"changes order dbf-file match geographical shape file Berlin \"Stadtstruktur\"","code":""},{"path":"/dev/reference/ABIMO_adapt_map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"adapt ABIMO output dbf-file to Berlin shape file — ABIMO_adapt_map","text":"","code":"ABIMO_adapt_map(ABIMO_out, file_georef, out_file)"},{"path":"/dev/reference/ABIMO_adapt_map.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"adapt ABIMO output dbf-file to Berlin shape file — ABIMO_adapt_map","text":"ABIMO_out data.frame ABIMO output file file_georef path dbf file matches existing shape (incl. path) out_file file path file name ordered ABIMO output file (linked shape files)","code":""},{"path":"/dev/reference/ABIMO_adapt_map.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"adapt ABIMO output dbf-file to Berlin shape file — ABIMO_adapt_map","text":"ordered dbf returned written out_file","code":""},{"path":"/dev/reference/abimo_Berlin_average.html","id":null,"dir":"Reference","previous_headings":"","what":"calculate Berlin average of water balance terms — abimo_Berlin_average","title":"calculate Berlin average of water balance terms — abimo_Berlin_average","text":"multiplies water balance component area, sums divides sum total surface","code":""},{"path":"/dev/reference/abimo_Berlin_average.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"calculate Berlin average of water balance terms — abimo_Berlin_average","text":"","code":"abimo_Berlin_average(abimo_df)"},{"path":"/dev/reference/abimo_Berlin_average.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"calculate Berlin average of water balance terms — abimo_Berlin_average","text":"abimo_df data.frame ABIMO output file, merged input file","code":""},{"path":"/dev/reference/abimo_Berlin_average.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"calculate Berlin average of water balance terms — abimo_Berlin_average","text":"table averages mm water balance components","code":""},{"path":"/dev/reference/abimo_comb_in_out.html","id":null,"dir":"Reference","previous_headings":"","what":"join ABIMO in- and output files — abimo_comb_in_out","title":"join ABIMO in- and output files — abimo_comb_in_out","text":"join ABIMO - output files","code":""},{"path":"/dev/reference/abimo_comb_in_out.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"join ABIMO in- and output files — abimo_comb_in_out","text":"","code":"abimo_comb_in_out(file_ABIMO_out, file_ABIMO_in)"},{"path":"/dev/reference/abimo_comb_in_out.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"join ABIMO in- and output files — abimo_comb_in_out","text":"file_ABIMO_out path ABIMO output file dbf format (incl. path) file_ABIMO_in path ABIMO input file dbf format (incl. path)","code":""},{"path":"/dev/reference/abimo_comb_in_out.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"join ABIMO in- and output files — abimo_comb_in_out","text":"data.frame matched ABIMO - output data","code":""},{"path":"/dev/reference/abimo_compare_output.html","id":null,"dir":"Reference","previous_headings":"","what":"Compares ABIMO-output-file to reference (or other ABIMO output file) — abimo_compare_output","title":"Compares ABIMO-output-file to reference (or other ABIMO output file) — abimo_compare_output","text":"Compares two ABIMO-output-files plotting parameters compared 1:1 line pdf-File simple column statistics.","code":""},{"path":"/dev/reference/abimo_compare_output.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compares ABIMO-output-file to reference (or other ABIMO output file) — abimo_compare_output","text":"","code":"abimo_compare_output(x_reference, x_new)"},{"path":"/dev/reference/abimo_compare_output.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compares ABIMO-output-file to reference (or other ABIMO output file) — abimo_compare_output","text":"x_reference reference data frame ABIMO output (can ABIMO output downloaded Berlin geoportal) x_new new ABIMO output compared reference","code":""},{"path":"/dev/reference/abimo_compare_output.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compares ABIMO-output-file to reference (or other ABIMO output file) — abimo_compare_output","text":"data.frame column statistics; plots evaluation open pdf","code":""},{"path":"/dev/reference/abimo_grwater_interflow.html","id":null,"dir":"Reference","previous_headings":"","what":"calculate groundwater recharge and interflow — abimo_grwater_interflow","title":"calculate groundwater recharge and interflow — abimo_grwater_interflow","text":"uses correction factor calculate groundwater recharge infiltration RI. Difference interflow. Requires combined data.frame ABIMO output input, e.g. using function abimo_comb_in_out","code":""},{"path":"/dev/reference/abimo_grwater_interflow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"calculate groundwater recharge and interflow — abimo_grwater_interflow","text":"","code":"abimo_grwater_interflow(abimo_df)"},{"path":"/dev/reference/abimo_grwater_interflow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"calculate groundwater recharge and interflow — abimo_grwater_interflow","text":"abimo_df data.frame ABIMO output file, merged input file","code":""},{"path":"/dev/reference/abimo_grwater_interflow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"calculate groundwater recharge and interflow — abimo_grwater_interflow","text":"input data.frame two new columns \"RI_K\" \"INTERF\"","code":""},{"path":"/dev/reference/abimo_input_2019.html","id":null,"dir":"Reference","previous_headings":"","what":"","title":"","text":"data read file called \"abimo_2019_mitstrassen.dbf\" using read.dbf. description input data, see URL .","code":""},{"path":"/dev/reference/abimo_input_2019.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"","text":"","code":"abimo_input_2019"},{"path":"/dev/reference/abimo_input_2019.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"","text":"data frame 25352 observations 34variables: CODE Variable 'CODE', see URL BEZIRK Variable 'BEZIRK', see URL STAGEB Variable 'STAGEB', see URL BLOCK Variable 'BLOCK', see URL TEILBLOCK Variable 'TEILBLOCK', see URL NUTZUNG Variable 'NUTZUNG', see URL TYP Variable 'TYP', see URL FLGES Variable 'FLGES', see URL VG Variable 'VG', see URL PROBAU Variable 'PROBAU', see URL PROVGU Variable 'PROVGU', see URL REGENJA Variable 'REGENJA', see URL REGENSO Variable 'REGENSO', see URL BELAG1 Variable 'BELAG1', see URL BELAG2 Variable 'BELAG2', see URL BELAG3 Variable 'BELAG3', see URL BELAG4 Variable 'BELAG4', see URL VGSTRASSE Variable 'VGSTRASSE', see URL STR_BELAG1 Variable 'STR_BELAG1', see URL STR_BELAG2 Variable 'STR_BELAG2', see URL STR_BELAG3 Variable 'STR_BELAG3', see URL STR_BELAG4 Variable 'STR_BELAG4', see URL KANAL Variable 'KANAL', see URL KANART Variable 'KANART', see URL KAN_BEB Variable 'KAN_BEB', see URL KAN_VGU Variable 'KAN_VGU', see URL KAN_STR Variable 'KAN_STR', see URL FELD_30 Variable 'FELD_30', see URL FELD_150 Variable 'FELD_150', see URL FLUR Variable 'FLUR', see URL STR_FLGES Variable 'STR_FLGES', see URL KOR_FL_N Variable 'KOR_FL_N', see URL AGEB1_NR Variable 'AGEB1_NR', see URL AGEB1 Variable 'AGEB1', see URL ","code":""},{"path":"/dev/reference/abimo_input_2019.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"","text":"https://www.berlin.de/umweltatlas/_assets/literatur/goedecke_et_al_abimo2019_doku.pdf","code":""},{"path":"/dev/reference/ABIMO_read_output.html","id":null,"dir":"Reference","previous_headings":"","what":"Reads two ABIMO output files — ABIMO_read_output","title":"Reads two ABIMO output files — ABIMO_read_output","text":"Reads new ABIMO output file dbase format. addition original SENSTADTUM output file read made comparable. Alternatively two new ABIMO output files can read. Output two comparable (dimensions column names) data frames.","code":""},{"path":"/dev/reference/ABIMO_read_output.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reads two ABIMO output files — ABIMO_read_output","text":"","code":"ABIMO_read_output(SENSTADTUM_dbf, new_dbf)"},{"path":"/dev/reference/ABIMO_read_output.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reads two ABIMO output files — ABIMO_read_output","text":"SENSTADTUM_dbf path original SENSTADTUM-database new_dbf path new output-database","code":""},{"path":"/dev/reference/ABIMO_read_output.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reads two ABIMO output files — ABIMO_read_output","text":"output two comparable (dimensions column names) data frames.","code":""},{"path":"/dev/reference/abimo_xml_BER.html","id":null,"dir":"Reference","previous_headings":"","what":"change ","title":"change ","text":"default irrigation pervious areas assumed based \"Nutzung\" \"Typ\". function turns irrigation areas (BERtoZero = true)","code":""},{"path":"/dev/reference/abimo_xml_BER.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"change ","text":"","code":"abimo_xml_BER(file_in = default_config(), file_out, line_BER = 56)"},{"path":"/dev/reference/abimo_xml_BER.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"change ","text":"file_in path file name abimo xml-input file, default default_config file_out path file name write changed abimo xml-input file line_BER line number xml-file, BERtoZero defined, default 56","code":""},{"path":"/dev/reference/abimo_xml_BER.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"change ","text":"abimo xml-input file changed BERtoZero-setting","code":""},{"path":"/dev/reference/abimo_xml_evap.html","id":null,"dir":"Reference","previous_headings":"","what":"change potential evaporation in Abimo config.xml — abimo_xml_evap","title":"change potential evaporation in Abimo config.xml — abimo_xml_evap","text":"potential evaporation (annual summer) boundary condition defined config.xml. function sets potential evaporation given value surfaces (except lakes rivers)","code":""},{"path":"/dev/reference/abimo_xml_evap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"change potential evaporation in Abimo config.xml — abimo_xml_evap","text":"","code":"abimo_xml_evap(file_in = default_config(), file_out, evap_annual, evap_summer)"},{"path":"/dev/reference/abimo_xml_evap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"change potential evaporation in Abimo config.xml — abimo_xml_evap","text":"file_in path file name abimo xml-input file, default default_config file_out path file name write changed abimo xml-input file evap_annual annual potential evaporation evap_summer potential evaporation summer months","code":""},{"path":"/dev/reference/abimo_xml_evap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"change potential evaporation in Abimo config.xml — abimo_xml_evap","text":"abimo xml-input file changed potential evaporation","code":""},{"path":"/dev/reference/add_ISU5_ID.html","id":null,"dir":"Reference","previous_headings":"","what":"add ISU5 ID to dbf file from geoportal — add_ISU5_ID","title":"add ISU5 ID to dbf file from geoportal — add_ISU5_ID","text":"ID unambiguous identifier blocks Berlin Geoportal usually hidden","code":""},{"path":"/dev/reference/add_ISU5_ID.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"add ISU5 ID to dbf file from geoportal — add_ISU5_ID","text":"","code":"add_ISU5_ID(   x_no_ID,   ID_dbf = \"C:/Aendu_lokal/ABIMO_Paper/Daten/Karten/Basis_ISU5_Daten_2015/ISU5_ID.dbf\" )"},{"path":"/dev/reference/add_ISU5_ID.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"add ISU5 ID to dbf file from geoportal — add_ISU5_ID","text":"x_no_ID data.frame created dbf file, downloaded Berlin geoportal ID_dbf path dbf file including ids, default set local folder ISU5-Ids","code":""},{"path":"/dev/reference/add_ISU5_ID.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"add ISU5 ID to dbf file from geoportal — add_ISU5_ID","text":"data.frame x_no_ID new column \"ID\"","code":""},{"path":"/dev/reference/appendSubToFile.html","id":null,"dir":"Reference","previous_headings":"","what":"Add ","title":"Add ","text":"Adds \"SUB\" field end existing  file, expected older applications (input-dbf-file ABIMO) function grandmaster HAUKESON","code":""},{"path":"/dev/reference/appendSubToFile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add ","text":"","code":"appendSubToFile(filename)"},{"path":"/dev/reference/appendSubToFile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add ","text":"filename Path file name data.frame","code":""},{"path":"/dev/reference/appendSubToFile.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add ","text":"dbf file sub field","code":""},{"path":"/dev/reference/create_configurator.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Configuration Object from Abimo Configuration File — create_configurator","title":"Create Configuration Object from Abimo Configuration File — create_configurator","text":"Create Configuration Object Abimo Configuration File","code":""},{"path":"/dev/reference/create_configurator.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Configuration Object from Abimo Configuration File — create_configurator","text":"","code":"create_configurator(xml_file = NULL)"},{"path":"/dev/reference/create_configurator.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Configuration Object from Abimo Configuration File — create_configurator","text":"xml_file path \"config.xml\". default configuration file stored package (system.file(\"extdata/config.xml\")) used.","code":""},{"path":"/dev/reference/create_configurator.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Configuration Object from Abimo Configuration File — create_configurator","text":"object class \"abimo_config\"","code":""},{"path":"/dev/reference/default_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Default ABIMO config.xml path — default_config","title":"Default ABIMO config.xml path — default_config","text":"Default ABIMO config.xml path","code":""},{"path":"/dev/reference/default_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Default ABIMO config.xml path — default_config","text":"","code":"default_config()"},{"path":"/dev/reference/default_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Default ABIMO config.xml path — default_config","text":"","code":"kwb.abimo::default_config() #> [1] \"D:/a/_temp/Library/kwb.abimo/extdata/config.xml\""},{"path":"/dev/reference/extdata_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Path to File in This Package — extdata_file","title":"Get Path to File in This Package — extdata_file","text":"Get Path File Package","code":""},{"path":"/dev/reference/extdata_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Path to File in This Package — extdata_file","text":"","code":"extdata_file(...)"},{"path":"/dev/reference/extdata_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Path to File in This Package — extdata_file","text":"... parts file path passed system.file","code":""},{"path":"/dev/reference/get_xpaths.html","id":null,"dir":"Reference","previous_headings":"","what":"Return List of XPath Expressions to Address Config Elements — get_xpaths","title":"Return List of XPath Expressions to Address Config Elements — get_xpaths","text":"Return List XPath Expressions Address Config Elements","code":""},{"path":"/dev/reference/get_xpaths.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return List of XPath Expressions to Address Config Elements — get_xpaths","text":"","code":"get_xpaths()"},{"path":"/dev/reference/get_xpaths.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Return List of XPath Expressions to Address Config Elements — get_xpaths","text":"List structure containing XPath expressions (see e.g. https://www.w3schools.com/xml/xpath_intro.asp)","code":""},{"path":"/dev/reference/replace_value.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: replace value — replace_value","title":"Helper function: replace value — replace_value","text":"searches string parameter=pattern_value pattern replaces parameter=\"new_value\" found entries","code":""},{"path":"/dev/reference/replace_value.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: replace value — replace_value","text":"","code":"replace_value(   string,   new_value,   parameter = \"etp\",   pattern_value = \"\\\"[0-9]+?\\\\.?[0-9]+?\\\"\" )"},{"path":"/dev/reference/replace_value.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: replace value — replace_value","text":"string string ABIMO config new_value new parameter value parameter parameter name search (default: \"etp\") pattern_value pattern value field (default: '\\\"[0-9]+?\\.?[0-9]+?\\\"')","code":""},{"path":"/dev/reference/replace_value.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper function: replace value — replace_value","text":"returns string modified parameter = value","code":""},{"path":"/dev/reference/replace_value.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Helper function: replace value — replace_value","text":"","code":"### Simple string string <- '<item bezirke=\"15,16,18,19,20\" etp=\"807\" etps=\"600\" />' replace_value(string, new_value = 100, parameter = \"etp\") #> [1] \"<item bezirke=\\\"15,16,18,19,20\\\" etp=\\\"100\\\" etps=\\\"600\\\" />\" replace_value(string, new_value = 100, parameter = \"etps\") #> [1] \"<item bezirke=\\\"15,16,18,19,20\\\" etp=\\\"807\\\" etps=\\\"100\\\" />\" ### Default ABIMO config config <- readLines(kwb.abimo::default_config()) replace_value(config, new_value = 100, parameter = \"etp\") #>  [1] \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\"                                                                 #>  [2] \"<sections>\"                                                                                                 #>  [3] \"\\t<comment>\"                                                                                                #>  [4] \"                Initiale Werte der Kalkulation von Abimo 3.2.\"                                              #>  [5] \"                Genaueres ist der Dokumentation von Abimo entnehmen.\"                                       #>  [6] \"\\t<\/comment>\"                                                                                               #>  [7] \"\\t<section name=\\\"Infiltrationsfaktoren\\\">\"                                                                 #>  [8] \"\\t\\t<item key=\\\"Dachflaechen\\\"   value=\\\"0.00\\\" />\"                                                         #>  [9] \"\\t\\t<item key=\\\"Belaglsklasse1\\\" value=\\\"0.10\\\" />\"                                                         #> [10] \"\\t\\t<item key=\\\"Belaglsklasse2\\\" value=\\\"0.30\\\" />\"                                                         #> [11] \"\\t\\t<item key=\\\"Belaglsklasse3\\\" value=\\\"0.60\\\" />\"                                                         #> [12] \"\\t\\t<item key=\\\"Belaglsklasse4\\\" value=\\\"0.90\\\" />\"                                                         #> [13] \"\\t<\/section>\"                                                                                               #> [14] \"\\t<section name=\\\"Bagrovwerte\\\">\"                                                                           #> [15] \"\\t\\t<item key=\\\"Dachflaechen\\\"   value=\\\"0.05\\\" />\"                                                         #> [16] \"\\t\\t<item key=\\\"Belaglsklasse1\\\" value=\\\"0.11\\\" />\"                                                         #> [17] \"\\t\\t<item key=\\\"Belaglsklasse2\\\" value=\\\"0.11\\\" />\"                                                         #> [18] \"\\t\\t<item key=\\\"Belaglsklasse3\\\" value=\\\"0.25\\\" />\"                                                         #> [19] \"\\t\\t<item key=\\\"Belaglsklasse4\\\" value=\\\"0.40\\\" />\"                                                         #> [20] \"\\t<\/section>\"                                                                                               #> [21] \"\\t<section name=\\\"ErgebnisNachkommaStellen\\\">\"                                                              #> [22] \"       \\t\\t<item key=\\\"R\\\" value=\\\"3\\\" />\"                                                                  #> [23] \"       \\t\\t<item key=\\\"ROW\\\" value=\\\"3\\\" />\"                                                                #> [24] \"       \\t\\t<item key=\\\"RI\\\" value=\\\"3\\\" />\"                                                                 #> [25] \"       \\t\\t<item key=\\\"RVOL\\\" value=\\\"3\\\" />\"                                                               #> [26] \"       \\t\\t<item key=\\\"ROWVOL\\\" value=\\\"3\\\" />\"                                                             #> [27] \"       \\t\\t<item key=\\\"RIVOL\\\" value=\\\"3\\\" />\"                                                              #> [28] \"\\t\\t<item key=\\\"FLAECHE\\\" value=\\\"0\\\" /> \"                                                                  #> [29] \"\\t\\t<item key=\\\"VERDUNSTUNG\\\" value=\\\"3\\\" />\"                                                               #> [30] \"\\t<\/section>\"                                                                                               #> [31] \"        <section name=\\\"Gewaesserverdunstung\\\">\"                                                            #> [32] \"\"                                                                                                           #> [33] \"            <item bezirke=\\\"1-6,13-15,17\\\"  eg=\\\"825\\\" />\"                                                  #> [34] \"            <item bezirke=\\\"7-12,16,18-23\\\" eg=\\\"775\\\" />\"                                                  #> [35] \"\"                                                                                                           #> [36] \"            <!-- das ist der default wert (Bezirk=0) -->\"                                                   #> [37] \"            <item eg=\\\"775\\\" />\"                                                                            #> [38] \"\"                                                                                                           #> [39] \"        <\/section>\"                                                                                         #> [40] \"        <section name=\\\"PotentielleVerdunstung\\\">\"                                                          #> [41] \"\"                                                                                                           #> [42] \"            <item bezirke=\\\"15,16,18,19,20\\\"     etp=\\\"100\\\" etps=\\\"500\\\" />\"                               #> [43] \"            <item bezirke=\\\"8,9,10,12,21,22,23\\\" etp=\\\"100\\\" etps=\\\"505\\\" />\"                               #> [44] \"            <item bezirke=\\\"13,14,17\\\"           etp=\\\"100\\\" etps=\\\"515\\\" />\"                               #> [45] \"            <item bezirke=\\\"2,3,4\\\"              etp=\\\"100\\\" etps=\\\"520\\\" />\"                               #> [46] \"            <item bezirke=\\\"1,5,6,7,11\\\"         etp=\\\"100\\\" etps=\\\"530\\\" />\"                               #> [47] \"\"                                                                                                           #> [48] \"            <!-- das ist der default wert (Bezirk=0) -->\"                                                   #> [49] \"            <item etp=\\\"100\\\" etps=\\\"530\\\" />\"                                                              #> [50] \"\"                                                                                                           #> [51] \"        <\/section>\"                                                                                         #> [52] \"\"                                                                                                           #> [53] \"        <section name=\\\"Diverse\\\">\"                                                                         #> [54] \"\\t\"                                                                                                         #> [55] \"\\t\\t<!-- wenn 'true' wird BER (Beregnungshoehe landw. Nutzfl.) == 0 erzwungen, fuer alle Flaechentypen -->\" #> [56] \"       \\t\\t<item key=\\\"BERtoZero\\\" value=\\\"false\\\" />\"                                                      #> [57] \"\"                                                                                                           #> [58] \"                <!-- Niederschlags-Korrekturfaktor -->\"                                                     #> [59] \"                <item key=\\\"NIEDKORRF\\\" value=\\\"1.09\\\" />\"                                                  #> [60] \"\\t<\/section>\"                                                                                               #> [61] \"<\/sections>\""},{"path":"/dev/reference/run_abimo.html","id":null,"dir":"Reference","previous_headings":"","what":"Run Abimo with Input Data or Input File — run_abimo","title":"Run Abimo with Input Data or Input File — run_abimo","text":"Run Abimo Input Data Input File","code":""},{"path":"/dev/reference/run_abimo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run Abimo with Input Data or Input File — run_abimo","text":"","code":"run_abimo(   input_file = NULL,   input_data = NULL,   output_file = NULL,   config_file = NULL,   config = NULL,   tag = \"v3.3.0\" )"},{"path":"/dev/reference/run_abimo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run Abimo with Input Data or Input File — run_abimo","text":"input_file path input dbf file input_data data frame temporaryinput file generated output_file path output file. default output file name input file \"_result\" appended config_file optional. Path config.xml file config optional. Configuration object class \"abimoConfig\", returned create_configurator. given, config_file ignored. tag version tag Abimo release used, see https://github.com/KWB-R/abimo/releases","code":""},{"path":"/dev/reference/run_abimo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run Abimo with Input Data or Input File — run_abimo","text":"data frame, read dbf file created Abimo.exe","code":""},{"path":"/dev/reference/run_abimo_command_line.html","id":null,"dir":"Reference","previous_headings":"","what":"Run Abimo on the Command Line — run_abimo_command_line","title":"Run Abimo on the Command Line — run_abimo_command_line","text":"Run Abimo Command Line","code":""},{"path":"/dev/reference/run_abimo_command_line.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run Abimo on the Command Line — run_abimo_command_line","text":"","code":"run_abimo_command_line(args, tag = \"v3.3.0\")"},{"path":"/dev/reference/run_abimo_command_line.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run Abimo on the Command Line — run_abimo_command_line","text":"args vector arguments passed Abimo tag version tag Abimo release used, see https://github.com/KWB-R/abimo/releases","code":""},{"path":"/dev/reference/run_abimo_command_line.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run Abimo on the Command Line — run_abimo_command_line","text":"function returns Abimo.exe sent standard output (vector character).","code":""},{"path":"/dev/reference/write.dbf.abimo.html","id":null,"dir":"Reference","previous_headings":"","what":"writes data.frame into ABIMO-dbf — write.dbf.abimo","title":"writes data.frame into ABIMO-dbf — write.dbf.abimo","text":"Saves existing data.frame dBase-format adds \"SUB\" field end file required ABIMO","code":""},{"path":"/dev/reference/write.dbf.abimo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"writes data.frame into ABIMO-dbf — write.dbf.abimo","text":"","code":"write.dbf.abimo(df_name, new_dbf)"},{"path":"/dev/reference/write.dbf.abimo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"writes data.frame into ABIMO-dbf — write.dbf.abimo","text":"df_name name data.frame new_dbf path new ABIMO-input file written (.dbf)","code":""},{"path":"/dev/reference/write.dbf.abimo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"writes data.frame into ABIMO-dbf — write.dbf.abimo","text":"dbf file can processed ABIMO","code":""},{"path":"/dev/news/index.html","id":"kwbabimo-010-2022-04-30","dir":"Changelog","previous_headings":"","what":"kwb.abimo 0.1.0 (2022-04-30)","title":"kwb.abimo 0.1.0 (2022-04-30)","text":"First release “official” Abimo input data: kwb.abimo::abimo_input_2019 main functions configure/run Abimo: kwb.abimo::create_configurator() kwb.abimo::run_abimo()","code":""},{"path":"/dev/news/index.html","id":"kwbabimo-0009000","dir":"Changelog","previous_headings":"","what":"kwb.abimo 0.0.0.9000","title":"kwb.abimo 0.0.0.9000","text":"Added NEWS.md file track changes package. see https://style.tidyverse.org/news.html writing good NEWS.md","code":""}]
